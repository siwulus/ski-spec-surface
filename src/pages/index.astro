---
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import Layout from '../layouts/Layout.astro';

// Get session from middleware (set in middleware/index.ts)
const session = Astro.locals.session;
const isAuthenticated = !!session;
---

<Layout title="Ski Surface Spec Extension - Advanced Ski Specifications">
  <!-- Hero Section -->
  <section aria-labelledby="hero-heading" class="relative overflow-hidden bg-secondary py-20 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-4xl text-center">
        <Badge variant="secondary" className="mb-8 text-sm font-medium">
          For Advanced Ski Touring & Freeride Skiers
        </Badge>
        <h1 id="hero-heading" class="text-4xl font-bold tracking-tight text-foreground sm:text-6xl lg:text-7xl">
          Ski Surface Spec Extension
        </h1>
        <p class="mt-6 text-lg leading-8 text-muted-foreground sm:text-xl lg:text-2xl">
          The missing piece in ski specifications. Get precise surface area and relative weight calculations to make
          informed decisions about your ski equipment.
        </p>
        <div class="mt-10 flex items-center justify-center gap-6">
          {
            isAuthenticated ? (
              // <!-- Show "Go to Ski Specs" for authenticated users -->
              <Button size="lg" asChild>
                <a href="/ski-specs" aria-label="Go to your ski specifications">
                  Go to Ski Specs
                </a>
              </Button>
            ) : (
              // <!-- Show "Get Started" and "Sign Up" for guests -->
              <>
                <Button size="lg" asChild>
                  <a href="/auth/register" aria-label="Create account to get started">
                    Get Started
                  </a>
                </Button>
                <Button variant="outline" size="lg" asChild>
                  <a href="/api-docs" aria-label="View API documentation">
                    View API Docs
                  </a>
                </Button>
              </>
            )
          }
        </div>
      </div>
    </div>
  </section>

  <!-- Problem Section -->
  <section aria-labelledby="problem-heading" class="py-20 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 id="problem-heading" class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">
          The Problem with Standard Ski Specs
        </h2>
        <p class="mt-6 text-lg leading-8 text-muted-foreground">
          Traditional ski specifications miss two critical parameters that advanced skiers need for optimal equipment
          selection.
        </p>
      </div>
      <div class="mx-auto mt-16 max-w-5xl">
        <div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
          <Card className="border-destructive bg-accent">
            <CardHeader>
              <CardTitle className="text-accent-foreground">Missing Surface Area</CardTitle>
            </CardHeader>
            <CardContent>
              <p class="text-accent-foreground">
                Without knowing the actual surface area, you can't accurately assess floatation in different snow
                conditions or compare skis objectively across different dimensions.
              </p>
            </CardContent>
          </Card>
          <Card className="border-primary bg-accent">
            <CardHeader>
              <CardTitle className="text-accent-foreground">No Relative Weight Metric</CardTitle>
            </CardHeader>
            <CardContent>
              <p class="text-accent-foreground">
                Raw weight numbers don't tell you about construction efficiency. You need weight per square centimeter
                to find the optimal balance between downhill performance and uphill efficiency.
              </p>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  </section>

  <!-- Solution Section -->
  <section aria-labelledby="solution-heading" class="bg-muted py-20 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 id="solution-heading" class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">
          Complete Ski Specifications
        </h2>
        <p class="mt-6 text-lg leading-8 text-muted-foreground">
          Our extension adds the missing parameters to standard ski specs, giving you the complete picture.
        </p>
      </div>
      <div class="mx-auto mt-16 max-w-5xl">
        <div class="grid grid-cols-1 gap-8 lg:grid-cols-2">
          <Card className="border-primary bg-accent">
            <CardHeader>
              <CardTitle className="text-accent-foreground">Automatic Surface Area Calculation</CardTitle>
            </CardHeader>
            <CardContent>
              <p class="text-accent-foreground mb-4">
                Our advanced algorithm calculates precise surface area (cm²) based on ski dimensions, accounting for the
                ski's curve profile.
              </p>
              <div class="text-sm text-muted-foreground">
                <strong>Input:</strong> Length, tip width, waist width, tail width<br />
                <strong>Output:</strong> Surface area in cm²
              </div>
            </CardContent>
          </Card>
          <Card className="border-primary bg-accent">
            <CardHeader>
              <CardTitle className="text-accent-foreground">Relative Weight Analysis</CardTitle>
            </CardHeader>
            <CardContent>
              <p class="text-accent-foreground mb-4">
                Get weight per square centimeter (g/cm²) to compare construction efficiency across different ski sizes
                and models.
              </p>
              <div class="text-sm text-muted-foreground">
                <strong>Formula:</strong> Weight ÷ Surface Area<br />
                <strong>Output:</strong> Relative weight in g/cm²
              </div>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="py-20 sm:py-32" aria-labelledby="features-heading">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 id="features-heading" class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">
          Everything You Need
        </h2>
        <p class="mt-6 text-lg leading-8 text-muted-foreground">
          Comprehensive tools for managing, comparing, and analyzing ski specifications.
        </p>
      </div>
      <div class="mx-auto mt-16 max-w-6xl">
        <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
          <Card>
            <CardHeader>
              <CardTitle>Specification Management</CardTitle>
              <CardDescription>Complete CRUD operations for ski specifications</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• Add new ski specifications</li>
                <li>• Edit existing entries</li>
                <li>• Delete unwanted specs</li>
                <li>• Optional descriptions</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Smart Comparison</CardTitle>
              <CardDescription>Compare up to 4 ski models side-by-side</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• Visual comparison table</li>
                <li>• Percentage differences</li>
                <li>• Sortable parameters</li>
                <li>• Highlighted key metrics</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Notes & Documentation</CardTitle>
              <CardDescription>Keep detailed notes for each ski model</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• Multiple notes per ski</li>
                <li>• Timestamp tracking</li>
                <li>• Edit and delete notes</li>
                <li>• Chronological sorting</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Data Import/Export</CardTitle>
              <CardDescription>CSV import and export functionality</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• Bulk import from CSV</li>
                <li>• Export all specifications</li>
                <li>• Data validation</li>
                <li>• Error reporting</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Advanced Validation</CardTitle>
              <CardDescription>Comprehensive data validation rules</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• Dimension relationships</li>
                <li>• Range validation</li>
                <li>• Real-time feedback</li>
                <li>• Clear error messages</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>User Authentication</CardTitle>
              <CardDescription>Secure user accounts and data privacy</CardDescription>
            </CardHeader>
            <CardContent>
              <ul class="space-y-2 text-sm text-muted-foreground">
                <li>• User registration</li>
                <li>• Secure login</li>
                <li>• Private data storage</li>
                <li>• Account management</li>
              </ul>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section aria-labelledby="benefits-heading" class="bg-muted py-20 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 id="benefits-heading" class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">
          Why This Matters
        </h2>
        <p class="mt-6 text-lg leading-8 text-muted-foreground">
          Make better decisions with complete ski specifications.
        </p>
      </div>
      <div class="mx-auto mt-16 max-w-4xl">
        <div class="grid grid-cols-1 gap-8 lg:grid-cols-2">
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Objective Comparisons</h3>
                <p class="text-muted-foreground">
                  Compare skis across different manufacturers using standardized metrics.
                </p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Optimal Length Selection</h3>
                <p class="text-muted-foreground">Find the right ski length compensated by width for your terrain.</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Snow Condition Assessment</h3>
                <p class="text-muted-foreground">Evaluate real floatation performance in deep snow conditions.</p>
              </div>
            </div>
          </div>
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Weight-Performance Balance</h3>
                <p class="text-muted-foreground">
                  Find the optimal compromise between downhill performance and uphill efficiency.
                </p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Informed Decisions</h3>
                <p class="text-muted-foreground">Stop relying on subjective opinions and make data-driven choices.</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="shrink-0">
                <div class="flex size-8 items-center justify-center rounded-full bg-primary/10">
                  <svg class="size-5 text-primary" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-foreground">Long Tour Optimization</h3>
                <p class="text-muted-foreground">Perfect for multi-day ski touring where every gram matters.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section aria-labelledby="cta-heading" class="py-20 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 id="cta-heading" class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">
          Ready to Optimize Your Ski Selection?
        </h2>
        <p class="mt-6 text-lg leading-8 text-muted-foreground">
          Join advanced skiers who make data-driven decisions about their equipment. Get started with your first ski
          specification today.
        </p>
        <div class="mt-10 flex items-center justify-center gap-6">
          {
            isAuthenticated ? (
              // <!-- Show "Add Your First Spec" for authenticated users -->
              <Button size="lg" asChild>
                <a href="/ski-specs" aria-label="Add your first ski specification">
                  Add Your First Spec
                </a>
              </Button>
            ) : (
              // <!-- Show "Create Account" and "Learn More" for guests -->
              <>
                <Button size="lg" asChild>
                  <a href="/auth/register" aria-label="Create a new account">
                    Create Account
                  </a>
                </Button>
                <Button variant="outline" size="lg" asChild>
                  <a href="/auth/login" aria-label="Sign in to existing account">
                    Sign In
                  </a>
                </Button>
              </>
            )
          }
        </div>
      </div>
    </div>
  </section>
</Layout>
